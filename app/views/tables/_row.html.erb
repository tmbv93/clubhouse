<%# locals: (row:, table:) %>

<tr
  data-controller="tables--row"
  data-tables--content-target="row"
  data-tables--row-target="row"
>

  <% if table.multi_select? %>
    <td
      data-links-noclick="true" class="relative px-7 sm:w-12 sm:px-6">
      <%= check_box_tag(nil,
                        row.record.id,
                        false,
                        class: 'form-checkbox absolute left-4 top-1/2 -mt-2 h-4 w-4 rounded border-white/10 bg-white/5 text-sky-medium focus:ring-sky-medium focus:ring-offset-gray-900 checked:bg-sky-medium',
                        data: {
                          action: 'change->tables--multi-select#selectItem',
                          tables__multi_select_target: 'recordCheckbox'
                        })
      %>
    </td>
  <% end %>

  <% row.cells.each do |cell| %>
    <td class="px-3 py-4 text-sm whitespace-nowrap text-gray-500">
      <% if cell[:content].call(row.record).is_a?(Array) %>
        <% cell[:content].call(row.record).map do |component| %>
          <%= component %>
        <% end %>
      <% else %>
        <%= cell[:content].call(row.record) %>
      <% end %>
    </td>
  <% end %>
</tr>